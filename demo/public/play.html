<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" value="noindex, nofollow"> <!-- this is just a demo app, no indexing by search engines please -->
        <title>Play a vector video</title>

        <!-- CSS -->
        <link rel="stylesheet" media="screen,projection,tv" href="/css/demo-skin.css">
        <link rel="stylesheet" media="screen,projection,tv" href="/css/themes/default.min.css">
        <link rel="shortcut icon" href="/favicon.png">
    </head>
    <body>
        <!--
            Record a new video.
            Demo by Šimon Rozsíval.
        -->
        
        <!-- this is the container into wich I want to place the recorder -->
        <div id="demo"></div>
        
        <!-- load the libary JS -->
        <script src="/js/libs/vector-screencast.js"></script>
            
        <!-- initialisation script -->
        <script>
        // load the name of the source file from the URL: /play.html
        var urlQuery = parseUrl();
        var sourceFile = urlQuery["source"];
        
        // shortcut:
        var VS = VectorScreencast;
        
        // wait until the DOM is loaded and ready
        window.onload = function() {
            // if no file was specified, ask the user directly
            // - this is just for the convenience of the demo, it would be better to redirect to some search page
            if(!sourceFile) {
                sourceFile = prompt("Please enter name of the video you want to watch.", "/recordings/video1.svg");    
            }
            
            // create the recorder
            var player = new VS.Player("demo", {
                // for more information about configuration see documentation (https://github.com/rozsival/vector-video)
                Source: sourceFile,
                Autohide: true,
                Autoplay: !!urlQuery["autoplay"],
                ShowControls: !urlQuery["hide-controls"],
                //DrawingStrategy: new VS.Drawing.SVGDrawer()
            });
        };
        
        /**
         * This helper function parses current url and creates an object containing key-value pairs from the url.
         * @return {object} Key-Value pairs extracted from the URL
         */
        function parseUrl() {
            var urlQuery = {};
            window.location.search.substr(1).split("&").map(function(queryPart) {
                var pair = queryPart.split("=");
                if(pair.length === 2) urlQuery[pair[0]] = pair[1];
            });
            return urlQuery;
        }
        </script>
    </body>
</html>
