<!DOCTYPE html>
<html lang="cs">
	<head>
		<title>TEST - HTML5 audio</title>
		<meta charset="UTF-8">
		<meta name=description content="">
		<meta name=viewport content="width=device-width, initial-scale=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap CSS -->
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<h1 class="text-center">Private properties audio test</h1>
				</div>
			</div>

			<div id="tester-container">
				<!-- tester will be placed here -->				
			</div>
		</div>

		<!-- jQuery -->
		<script src="http://code.jquery.com/jquery.js"></script>

		<!-- Tester object -->
		<script src="tester.js"></script>

		<!-- Khan Academy - Audio Player -->
		<script src="../helpers/private.js"></script>
		<script type="text/javascript">
		$(function(){

			var tester = new Tester($("#tester-container"));

			// tests:
			var TestObject = (function(){

				var _ = privateData;

				function TestObject(x) {
					_(this).sth = x;
				}

				TestObject.prototype.getSth = function() {
					return _(this).sth;
				}

				return TestObject;

			})();

			var x = new TestObject("A");
			var y = new TestObject("B");

			tester.start(3);

			// [1]
			if(x.getSth() == y.getSth()) {
				tester.reportError("Data of one rewrite data of the other.");
			} else {
				tester.reportSuccess("Every object has it's own data.");
			}

			// [2] data is really private
			if(x.hasOwnProperty("_")) {
				tester.reportError("Private data is accessible from the outside.");
			} else {
				tester.reportSuccess("Private data is really private.");
			}

			var a = "aaa";
			x._ = a;

			if(x.getSth() == "A") {
				tester.reportSuccess("Private data is really private #2.");
			} else {
				tester.reportError("Private data is accessible from the outside #2.");
			}

		});
		</script>
	</body>
</html>